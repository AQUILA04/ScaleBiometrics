# Story 1.2: Keycloak Integration & Security Foundation

**Status:** Draft

## Story
**As a** Security Architect,
**I want** to integrate the API Gateway with Keycloak,
**so that** requests are authenticated via JWT and carry Tenant Context.

## Acceptance Criteria
1. **Keycloak**: Realm configured with `tenant_id` claim and Service Accounts.
2. **Spring Security**: Configured as OAuth2 Resource Server.
3. **Validation**: Signature validation against JWK Set.
4. **Context**: Extract `tenant_id` claim to `TenantContext`.
5. **CORS**: Allow localhost:3000.

## Tasks
- [ ] Configure Keycloak Realm export.
- [ ] Add Spring OAuth2 dependencies.
- [ ] Implement `TenantJwtAuthenticationConverter`.
- [ ] Create `TenantContext` holder.
- [ ] Integration tests (401 vs 200).

## Dev Notes
* Use Perimeter Security Model (Architecture Sec 4.1).
* Ensure custom claim mapping works.